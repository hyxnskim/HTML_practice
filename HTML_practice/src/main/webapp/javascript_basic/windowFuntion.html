<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>Window 내장함수</title>
		<!--  js : internal -->
		<script type="text/javascript">
			/* 사용자 주문수량 입력받아서 주문내역 출력
			   상품 가격 : 10,000
			   주문 수량 : 1 ~ 10개 제한
			   
			   # 사용기술(함수)
			   -- 변수 선언, 주문수량 입력, 주문수량 데이터 검증, 동적 화면 출력 제어, 연산자, 정수형변환
			   -- prompt()
			   -- isNaN()
			   -- parseInt()
			   -- alert()
			   -- confirm()
			   
			   # 체킹사항
			   -- 주문수량 데이터 검증
			   1. 입력여부
			   2. 숫자데이터 여부
			   3. 데이터 범위 : 1 ~ 10 => 숫자데이터 형변환
			   4. 주문내역 보여주기
			   5. 최종 주문여부 확인
			   6. 주문처리
			   7. 주문취소처리
			*/
			
			document.write("<h3>주문화면</h3>");
			   
			var price = 10000;
			
			while(true){
				var quantity = prompt("주문 수량을 입력하세요 (1 ~ 10)", 0);
				console.log("주문수량 : " + quantity);
				console.log("데이터타입 : " + typeof quantity)
				
				if(quantity == null){
					alert("주문 취소");
					break;
				} else if(quantity == "") {
					alert("주문 수량을 입력해주세요");
				} else if(isNaN(quantity)) {
					alert("숫자를 입력해주세요");
				} else {
					var num_quantity = parseInt(quantity);
					if(num_quantity<1 || num_quantity>10){
						alert("1~10 사이의 숫자를 입력해주세요")
					} else {
						//break;
						var message;
						message = "주문내역정보"
						message += "\n-------------------------------"
						message += "\n상품가격 : " + price
						message += "\n주문수량 : " + num_quantity;
						message += "\n주문총액 : " + num_quantity * price
						message += "\n-------------------------------"
						
						var isConfirmed = confirm(message + "\n\n주문하시겠습니까?")
						if(isConfirmed){
							document.write("<h3>주문 내역</h3>");
							alert("주문이 완료되었습니다.")
							document.write("주문수량 : " + num_quantity);
							document.write("\n가격 : " + num_quantity * price);
						} else {
							alert("주문이 취소되었습니다.");
						}
					}
					break;
				}
			}
		</script>
	</head>
	
	<body>
	
	</body>
</html>